---
layout: post
title: "汇编语言笔记(七)--DIV指令(除法指令)"
date: 2020-01-04
description: "汇编语言"
tag: 汇编语言
---
---

### 前言：

DIV指令(除法指令)。

---


### 目录：

* <a href="#a" target="_self">DIV指令</a>
* <a href="#b" target="_self">运算要求</a>
* <a href="#zg" target="_self">总结</a>

-----


### <span id = "a">DIV指令：</span>

div 指令是8086汇编中的除法运算指令，它的结果不是浮点数，而是两个整数：商和余数。<br>

`A / B`  其中，**A** 是被除数，**B** 是除数 ，<br>

除数**B**有 **8位**和**16位**两种，保存在一个 **reg寄存器** 里 或是 **内存单元** 中 ，<br>

被除数 **A** 默认存放在 **AX** 中（16位以内） <br>

或 **AX** 和 **DX** 中（32位，DX存放高16位，AX存放低16位） <br>

结果： <br>

如果除数 B 是8位，那么除法的结果AL保存商，AH保存余数，<br>

如果除数 B 是16位，那么除法的结果 AX保存商，DX保存余数。<br>

例如： <br>

```c
div byte ptr ds:[0]

含义：

(al)=(ax)/((ds)*16+0) 的商

(ah)=(ax)/((ds)*16+0) 的余数
```

-----

```c
div word ptr es:[0]

(高十六位）+(低十六位)

含义：

(ax)=[(dx)*10000H+(ax)]/((es)*16+0) 的商

(dx)=[(dx)*10000H+(ax)]/((es)*16+0) 的余数
```

-----

```c
div byte ptr [bx+si+8]

含义：

(al)=(ax)/((ds)*16+(bx)+(si)+8) 的商

(ah)=(ax)/((ds)*16+(bx)+(si)+8) 的余数
```

-----

```c
div word ptr [bx+si+8]

(高十六位)+(低十六位)

含义：

(ax)=[(dx)*10000H+(ax)]/((ds)*16+(bx)+(si)+8) 的商

(dx)=[(dx)*10000H+(ax)]/((ds)*16+(bx)+(si)+8) 的余数
```

-----


### <span id = "b">运算要求：</span>

除法指令正确执行是有条件的 <br>

这个条件是：被除数的高一半，必须小于除数 ，<br>

如果数据不满足这样的条件，被除数的高一半大于或者等于除数，就会产生除法溢出，<br>

若发生除法溢出，会自动触发0号中断 －－－ 除法溢出中断， <br>

举个粟子：<br>

被除数 1000 ，写成16进制格式是3E8H，<br>

它的高一半（高8位）是03H，低一半（低8位）是0E8H ，<br>

若以它作为被除数，则除数必须大于4（4>03H）才能正确执行 ，<br>

这样，除得的商必然只有 8位，可以正确地保存在AL中 ，<br>

若你的除数是3或更小的 **2** 、**1** 甚至 **0** ，则在程序运行到这一条除法指令时会发生0号中断出错。<br>

-----

另外 如果做16位除法前需要现将 **DX** 清零，如：`xor dx,dx`

-----


### <span id = "zg">总结</span>

DIV指令(除法指令)。

--------
